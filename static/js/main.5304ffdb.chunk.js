(this.webpackJsonpnwiteer=this.webpackJsonpnwiteer||[]).push([[0],{38:function(e,n,t){e.exports=t(56)},55:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(33),c=t.n(i),o=t(7),u=t(2),l=t(18),s=t(4),p=t(5),d=t.n(p),f=t(11),m=t(20);t(44),t(46),t(57);m.initializeApp({apiKey:"AIzaSyB3TbgWOm1gAYJQ4h3PY4VBwx35-jh9ggg",authDomain:"nwitter-d14db.firebaseapp.com",databaseURL:"https://nwitter-d14db.firebaseio.com",projectId:"nwitter-d14db",storageBucket:"nwitter-d14db.appspot.com",messagingSenderId:"479277356163",appId:"1:479277356163:web:e3df2129eef47fd752f7b6"});var x=m,b=m.auth(),g=m.firestore(),h=m.storage(),v=t(3);function w(){var e=Object(u.a)(["\n  color: #04aaff;\n  cursor: pointer;\n  margin-top: 10px;\n  margin-bottom: 50px;\n  display: block;\n  font-size: 12px;\n  text-decoration: underline;\n"]);return w=function(){return e},e}function E(){var e=Object(u.a)(["\n  max-width: 320px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 30px;\n  background-color: rgba(255, 255, 255, 1);\n  margin-bottom: 10px;\n  font-size: 12px;\n  color: black;\n"]);return E=function(){return e},e}function j(){var e=Object(u.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n  .authSubmit {\n    text-align: center;\n    background: #04aaff;\n    color: white;\n    margin-top: 10;\n    cursor: pointer;\n  }\n"]);return j=function(){return e},e}var O=v.a.form(j()),y=v.a.input(E()),k=v.a.span(w()),S=function(){var e=Object(a.useState)(""),n=Object(o.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(""),u=Object(o.a)(c,2),l=u[0],s=u[1],p=Object(a.useState)(!0),m=Object(o.a)(p,2),x=m[0],g=m[1],h=function(e){var n=e.target,t=n.name,a=n.value;"email"===t?i(a):"password"===t&&s(a),console.log(e.target.name)},v=function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!x){e.next=7;break}return e.next=4,b.createUserWithEmailAndPassword(t,l);case 4:e.sent,e.next=10;break;case 7:return e.next=9,b.signInWithEmailAndPassword(t,l);case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{onSubmit:v},r.a.createElement(y,{name:"email",type:"email",placeholder:"Email",required:!0,value:t,onChange:h}),r.a.createElement(y,{name:"password",type:"password",placeholder:"Password",required:!0,value:l,onChange:h}),r.a.createElement(y,{className:"authSubmit",type:"submit",value:x?"Create Account":"Sign in"})),r.a.createElement(k,{onClick:function(){return g((function(e){return!e}))}},x?"Sign in":"Create Account"))},N=t(19),C=t(8);function A(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  max-width: 320px;\n  button {\n    cursor: pointer;\n    border-radius: 20px;\n    border: none;\n    padding: 10px 0px;\n    font-size: 12px;\n    text-align: center;\n    width: 150px;\n    background: white;\n    cursor: pointer;\n  }\n"]);return A=function(){return e},e}function I(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n"]);return I=function(){return e},e}var P=v.a.div(I()),U=v.a.div(A()),z=function(){var e=function(){var e=Object(f.a)(d.a.mark((function e(n){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(t=n.target.name)?a=new x.auth.GoogleAuthProvider:"github"===t&&(a=new x.auth.GithubAuthProvider),e.next=4,b.signInWithPopup(a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(P,null,r.a.createElement(C.a,{icon:N.c,color:"#04aaff",size:"3x",style:{marginBottom:30}}),r.a.createElement(S,null),r.a.createElement(U,null,r.a.createElement("button",{name:"google",onClick:e},"Continue with Google ",r.a.createElement(C.a,{icon:N.b})),r.a.createElement("button",{name:"github",onClick:e},"Continue with Github ",r.a.createElement(C.a,{icon:N.a}))))},F=t(37),L=t(14);function _(){var e=Object(u.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  span {\n    cursor: pointer;\n  }\n\n  span:first-child {\n    margin-right: 10px;\n  }\n"]);return _=function(){return e},e}function B(){var e=Object(u.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n"]);return B=function(){return e},e}function R(){var e=Object(u.a)(["\n  margin-bottom: 20px;\n  background-color: white;\n  width: 100%;\n  max-width: 320px;\n  padding: 20px;\n  border-radius: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.8);\n  .nweetEdit .formBtn {\n    cursor: pointer;\n    margin-top: 15px;\n    margin-bottom: 5px;\n  }\n\n  .formBtn {\n    cursor: pointer;\n    width: 100%;\n    padding: 7px 20px;\n    text-align: center;\n    color: white;\n    border-radius: 20px;\n    background-color: #04aaff;\n    cursor: pointer;\n  }\n\n  h4 {\n    font-size: 14px;\n  }\n  img {\n    right: -10px;\n    top: 20px;\n    position: absolute;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    margin-top: 10px;\n  }\n"]);return R=function(){return e},e}var D=v.a.div(R()),W=v.a.form(B()),G=v.a.div(_()),q=function(e){var n=e.nweetObject,t=e.isOwner,i=Object(a.useState)(!1),c=Object(o.a)(i,2),u=c[0],l=c[1],s=Object(a.useState)(n.text),p=Object(o.a)(s,2),m=p[0],x=p[1],b=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.confirm("Are you sure you want to delete this nweet?"),console.log(t),!t){e.next=7;break}return e.next=5,g.doc("nweets/".concat(n.id)).delete();case 5:return e.next=7,h.refFromURL(n.attachmentURL).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){l((function(e){return!e}))},w=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g.doc("nweets/".concat(n.id)).update({text:m});case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(D,null,u?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{onSubmit:w,className:"nweetEdit"},r.a.createElement("input",{type:"text",placeholder:"edit your nweet",value:m,required:!0,onChange:function(e){var n=e.target.value;x(n)}}),r.a.createElement("input",{type:"submit",value:"Update Nweet!",className:"formBtn"})),r.a.createElement("span",{onClick:v,className:"formBtn"},"Cancel")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,n.text),n.attachmentURL&&r.a.createElement("img",{src:n.attachmentURL,alt:"nweet_img"}),t&&r.a.createElement(G,null,r.a.createElement("span",{onClick:b},r.a.createElement(C.a,{icon:L.d})),r.a.createElement("span",{onClick:v},r.a.createElement(C.a,{icon:L.a})))," "))},J=t(59);function T(){var e=Object(u.a)(["\n  color: #04aaff;\n  cursor: pointer;\n  text-align: center;\n\n  span {\n    margin-right: 10px;\n    font-size: 12px;\n  }\n"]);return T=function(){return e},e}function Y(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  img {\n    height: 80px;\n    width: 80px;\n    border-radius: 40px;\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  position: relative;\n  margin-bottom: 20px;\n  width: 100%;\n  .factoryInput__input {\n    flex-grow: 1;\n    height: 40px;\n    padding: 0px 20px;\n    color: white;\n    border: 1px solid #04aaff;\n    border-radius: 20px;\n    font-weight: 500;\n    font-size: 12px;\n  }\n  .factoryInput__arrow {\n    position: absolute;\n    right: 0;\n    background-color: #04aaff;\n    height: 40px;\n    width: 40px;\n    padding: 10px 0px;\n    text-align: center;\n    border-radius: 20px;\n    color: white;\n    box-sizing: border-box;\n  }\n"]);return K=function(){return e},e}function M(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]);return M=function(){return e},e}var Q=v.a.form(M()),V=v.a.div(K()),H=v.a.div(Y()),X=v.a.div(T()),Z=function(e){var n=e.userObj,t=Object(a.useState)(""),i=Object(o.a)(t,2),c=i[0],u=i[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),p=s[0],m=s[1],x=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),a="",""===p){e.next=12;break}return r=h.ref().child("".concat(n.uid,"/").concat(Object(J.a)())),e.next=8,r.putString(p,"data_url");case 8:return i=e.sent,e.next=11,i.ref.getDownloadURL();case 11:a=e.sent;case 12:return o={text:c,createdAt:Date.now(),creatorId:n.uid,attachmentURL:a},u(""),m(""),e.next=17,g.collection("nweets").add(o);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(Q,{onSubmit:x},r.a.createElement(V,null,r.a.createElement("input",{className:"factoryInput__input",value:c,onChange:function(e){var n=e.target.value;u(n)},type:"text",placeholder:"What's on your mind?",maxLength:120}),r.a.createElement("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})),r.a.createElement("label",{for:"attach-file",className:"factoryInput__label"},r.a.createElement("span",null,"Add Photos"),r.a.createElement(C.a,{icon:L.b})),r.a.createElement("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var n=e.target.files[0];console.log(n);var t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;m(n)},t.readAsDataURL(n)},style:{opacity:0}}),p&&r.a.createElement(H,null,r.a.createElement("img",{src:p,alt:"img",style:{backgroundImage:p}}),r.a.createElement(X,{onClick:function(){m("")}},r.a.createElement("span",null,"Remove"),r.a.createElement(C.a,{icon:L.c}))))};function $(){var e=Object(u.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n"]);return $=function(){return e},e}var ee=v.a.div($()),ne=function(e){var n=e.userObj,t=Object(a.useState)([]),i=Object(o.a)(t,2),c=i[0],u=i[1];return Object(a.useEffect)((function(){g.collection("nweets").onSnapshot((function(e){var n=e.docs.map((function(e){return Object(F.a)({id:e.id},e.data())}));u(n)}))}),[]),r.a.createElement(ee,null,r.a.createElement(Z,{userObj:n}),r.a.createElement("div",null,c.map((function(e){return r.a.createElement(q,{key:e.id,nweetObject:e,isOwner:e.creatorId===n.uid})}))))};function te(){var e=Object(u.a)(["\n  width: 100%;\n  padding: 7px 20px;\n  text-align: center;\n  color: white;\n  border-radius: 20px;\n  cursor: pointer;\n  margin-top: 50px;\n  margin-bottom: 5px;\n  background-color: tomato;\n"]);return te=function(){return e},e}function ae(){var e=Object(u.a)(["\n  margin-top: 10px;\n  cursor: pointer;\n  width: 100%;\n  padding: 7px 20px;\n  text-align: center;\n  color: white;\n  border-radius: 20px;\n  background-color: #04aaff;\n  cursor: pointer;\n"]);return ae=function(){return e},e}function re(){var e=Object(u.a)(["\n  width: 100%;\n  padding: 10px 20px;\n  border-radius: 20px;\n  border: 1px solid black;\n  text-align: center;\n  background-color: white;\n  color: black;\n"]);return re=function(){return e},e}function ie(){var e=Object(u.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n  .profileForm {\n    border-bottom: 1px solid rgba(255, 255, 255, 0.9);\n    padding-bottom: 30px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n"]);return ie=function(){return e},e}var ce=function(e){var n=e.userObj,t=e.refreshUser,i=Object(s.f)(),c=Object(a.useState)(n.displayName),u=Object(o.a)(c,2),l=u[0],p=u[1],m=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("nweets").where("creatorId","==",n.uid).orderBy("createdAt").get();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m()}),[]);var x=function(){var e=Object(f.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.displayName===l){e.next=5;break}return e.next=4,n.updateProfile({displayName:l});case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(oe,null,r.a.createElement("form",{onSubmit:x,className:"profileForm"},r.a.createElement(ue,{onChange:function(e){var n=e.target.value;p(n)},type:"text",autoFocus:!0,placeholder:"Display Name",value:l}),r.a.createElement(le,{type:"submit",value:"Update Profile"})),r.a.createElement(se,{onClick:function(){b.signOut(),i.push("/")}},"Log Out"))},oe=v.a.div(ie()),ue=v.a.input(re()),le=v.a.input(ae()),se=v.a.span(te());function pe(){var e=Object(u.a)(["\n  margin-top: 10px;\n"]);return pe=function(){return e},e}function de(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 80px;\n  margin-bottom: 80px;\n  .nav-home-link {\n    margin-right: 10px;\n  }\n  .nav-profile-link {\n    margin-left: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: 12px;\n  }\n"]);return de=function(){return e},e}var fe=v.a.ul(de()),me=v.a.span(pe()),xe=function(e){var n=e.userObj;return r.a.createElement("nav",null,r.a.createElement(fe,null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/",className:"nav-home-link"},r.a.createElement(C.a,{icon:N.c,color:"#04AAFF",size:"2x"}))),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/profile",className:"nav-profile-link"},r.a.createElement(C.a,{icon:L.e,color:"#04AAFF",size:"2x"}),r.a.createElement(me,null,n.displayName?"".concat(n.displayName,"\uc758 Profile"):"Profile")))))};function be(){var e=Object(u.a)(["\n  max-width: 890;\n  width: 100%;\n  margin: 0 auto;\n  margin-top: 80;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return be=function(){return e},e}var ge=v.a.div(be()),he=function(e){var n=e.refreshUser,t=e.isLoggedIn,a=e.userObj;return r.a.createElement(l.a,null,t&&r.a.createElement(xe,{userObj:a}),r.a.createElement(s.c,null,t?r.a.createElement(ge,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(ne,{userObj:a})),r.a.createElement(s.a,{exact:!0,path:"/profile"},r.a.createElement(ce,{userObj:a,refreshUser:n}))):r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(z,null))))};var ve=function(){var e=Object(a.useState)(!1),n=Object(o.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(null),u=Object(o.a)(c,2),l=u[0],s=u[1];return Object(a.useEffect)((function(){b.onAuthStateChanged((function(e){s(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(n){e.updateProfile(n)}}:null),i(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(he,{refreshUser:function(){var e=b.currentUser;s({displayName:e.displayName,uid:e.uid,updateProfile:function(n){e.updateProfile(n)}})},isLoggedIn:Boolean(l),userObj:l}):"Intialiizng...")};t(55);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.5304ffdb.chunk.js.map